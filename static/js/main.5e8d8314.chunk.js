(this["webpackJsonpreact-search"]=this["webpackJsonpreact-search"]||[]).push([[0],{18:function(e,t,a){e.exports=a(44)},23:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),s=a.n(r),l=(a(23),a(7)),o=a(2),u=a(3),i=a(5),m=a(4),d=a(6),h=a.n(d),p=(a(41),a(42),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.onSubmit=function(e){e.preventDefault()},e.onChange=function(t){e.setState({value:t.target.value}),e.props.onSearch(t.target.value.trim())},e}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.onSubmit},c.a.createElement("div",{className:"from-group"},c.a.createElement("input",{type:"search","data-testid":"search-input",className:"form-control",value:this.state.value,onChange:this.onChange,placeholder:"Type to search"})))}}]),a}(n.Component));a(43);function f(e){return c.a.createElement("div",{"data-testid":"result-card",className:"col-12 col-lg-6 my-2"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h2",{className:"card-title"},e.title)),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",{className:"card-text"},e.body,"."),c.a.createElement("p",{className:"card-text card-author"},e.username))))}var v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={cached:[],results:[]},e.setResults=function(t){var a=e.state.cached;if(t.length>0){var n=new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"ig");a=e.state.cached.filter((function(e){return n.test(e.title)||n.test(e.username)||n.test(e.body)}))}e.setState(Object(l.a)(Object(l.a)({},e.state),{},{results:a}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.data})).then((function(t){h.a.get("https://jsonplaceholder.typicode.com/users").then((function(e){return e.data})).then((function(a){t.map((function(e){var t=a.find((function(t){return t.id===e.userId}));return e.username=t.name,e})),e.setState({searchValue:"",cached:t,results:t})})).catch((function(e){console.log("Can't load users: ".concat(e))}))})).catch((function(e){console.log("Can't load posts: ".concat(e))}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"AppSearcher"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 mb-5 p-5"},c.a.createElement(p,{onSearch:this.setResults}))),c.a.createElement("div",{className:"row"},c.a.createElement("section",{className:"col-12"},c.a.createElement("h3",null,"Results: ",c.a.createElement("span",{"data-testid":"count"},this.state.results.length)),c.a.createElement("hr",null)),this.state.results.map((function(e){return c.a.createElement(f,{key:e.id,username:e.username,title:e.title,body:e.body})}))))}}]),a}(n.Component);s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement("header",null,c.a.createElement("h1",null,"React Posts Searcher")),c.a.createElement("main",{className:"container"},c.a.createElement(v,null)),c.a.createElement("footer",null,c.a.createElement("p",null,"Stan Forto\u0144ski 2020"))),document.getElementById("app"))}},[[18,1,2]]]);
//# sourceMappingURL=main.5e8d8314.chunk.js.map