{"version":3,"sources":["components/SearchForm/SearchForm.js","components/ResultCard/ResultCard.js","components/AppSearcher.js","index.js"],"names":["SearchForm","state","value","onSubmit","e","preventDefault","onChange","setState","target","props","onSearch","trim","this","className","type","data-testid","placeholder","Component","ResultCard","title","body","username","AppSearcher","cached","results","setResults","filtered","length","regex","RegExp","replace","filter","post","test","axios","get","then","posts","data","users","map","user","find","id","userId","name","searchValue","catch","err","console","log","res","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kVAGqBA,G,wNAEnBC,MAAQ,CACNC,MAAO,I,EAGTC,SAAW,SAACC,GACVA,EAAEC,kB,EAGJC,SAAW,SAACF,GACV,EAAKG,SAAS,CAACL,MAAOE,EAAEI,OAAON,QAC/B,EAAKO,MAAMC,SAASN,EAAEI,OAAON,MAAMS,S,uDAInC,OACE,0BAAMR,SAAUS,KAAKT,UACnB,yBAAKU,UAAU,cACX,2BAAOC,KAAK,SAASC,cAAY,eAAeF,UAAU,eAAeX,MAAOU,KAAKX,MAAMC,MAAOI,SAAUM,KAAKN,SAAUU,YAAY,yB,GAnB3GC,c,MCAzB,SAASC,EAAWT,GAC/B,OACI,yBAAKM,cAAY,cAAcF,UAAU,wBACrC,yBAAKA,UAAU,QACX,yBAAKA,UAAU,eACX,wBAAIA,UAAU,cAAcJ,EAAMU,QAEtC,yBAAKN,UAAU,aACX,uBAAGA,UAAU,aAAaJ,EAAMW,KAAhC,KACA,uBAAGP,UAAU,yBAAyBJ,EAAMY,a,ICN3CC,E,4MAEnBrB,MAAQ,CACNsB,OAAQ,GACRC,QAAS,I,EA6BXC,WAAa,SAACvB,GACZ,IAAIwB,EAAW,EAAKzB,MAAMsB,OAC1B,GAAIrB,EAAMyB,OAAS,EAAE,CACnB,IAAIC,EAAQ,IAAIC,OAAO3B,EAAM4B,QAAQ,wBAAyB,QAAS,MAEvEJ,EAAW,EAAKzB,MAAMsB,OAAOQ,QAAO,SAAAC,GAClC,OAAOJ,EAAMK,KAAKD,EAAKb,QAAUS,EAAMK,KAAKD,EAAKX,WAAaO,EAAMK,KAAKD,EAAKZ,SAGlF,EAAKb,SAAL,2BAAkB,EAAKN,OAAvB,IAA8BuB,QAASE,M,kEAnCrB,IAAD,OACjBQ,IAAMC,IAAI,8CACTC,MAAK,SAAAC,GAAK,OAAIA,EAAMC,QACpBF,MAAK,SAAAC,GACJH,IAAMC,IAAI,8CACTC,MAAK,SAAAG,GAAK,OAAIA,EAAMD,QACpBF,MAAK,SAAAG,GACJF,EAAMG,KAAI,SAAAR,GACR,IAAMS,EAAOF,EAAMG,MAAK,SAAAD,GAAI,OAAIA,EAAKE,KAAOX,EAAKY,UAEjD,OADAZ,EAAKX,SAAWoB,EAAKI,KACdb,KAGT,EAAKzB,SAAS,CACZuC,YAAa,GACbvB,OAAQc,EACRb,QAASa,OAEVU,OAAM,SAAAC,GACPC,QAAQC,IAAR,4BAAiCF,UAElCD,OAAM,SAAAC,GACPC,QAAQC,IAAR,4BAAiCF,S,+BAiBnC,OACE,yBAAKnC,UAAU,eACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,mBACb,kBAAC,EAAD,CAAYH,SAAUE,KAAKa,eAG/B,yBAAKZ,UAAU,OACb,6BAASA,UAAU,UACjB,wCAAa,0BAAME,cAAY,SAASH,KAAKX,MAAMuB,QAAQG,SAC3D,8BAEDf,KAAKX,MAAMuB,QAAQgB,KAAI,SAAAW,GACtB,OACE,kBAAC,EAAD,CAAYC,IAAKD,EAAIR,GAAItB,SAAU8B,EAAI9B,SAAUF,MAAOgC,EAAIhC,MAAOC,KAAM+B,EAAI/B,gB,GA5DlDH,aCDzCoC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,gCACE,qDAEF,0BAAM1C,UAAU,aACd,kBAAC,EAAD,OAEF,gCACE,yDAGJ2C,SAASC,eAAe,U","file":"static/js/main.5e8d8314.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './SearchForm.sass';\r\n\r\nexport default class SearchForm extends Component\r\n{\r\n  state = {\r\n    value: ''\r\n  }\r\n  \r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({value: e.target.value});\r\n    this.props.onSearch(e.target.value.trim());  \r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <div className=\"from-group\">\r\n            <input type=\"search\" data-testid=\"search-input\" className=\"form-control\" value={this.state.value} onChange={this.onChange} placeholder=\"Type to search\" />\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport './ResultCard.sass';\r\n\r\nexport default function ResultCard(props){\r\n    return (\r\n        <div data-testid=\"result-card\" className=\"col-12 col-lg-6 my-2\">\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h2 className=\"card-title\">{props.title}</h2>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <p className=\"card-text\">{props.body}.</p>\r\n                    <p className=\"card-text card-author\">{props.username}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {Component} from 'react';\nimport axios from 'axios';\nimport './AppSearcher.sass';\nimport SearchForm from './SearchForm/SearchForm';\nimport ResultCard from './ResultCard/ResultCard';\n\nexport default class AppSearcher extends Component\n{\n  state = {\n    cached: [],\n    results: []\n  }\n\n  componentDidMount(){\n    axios.get('https://jsonplaceholder.typicode.com/posts')\n    .then(posts => posts.data)\n    .then(posts => {\n      axios.get('https://jsonplaceholder.typicode.com/users')\n      .then(users => users.data)\n      .then(users => {\n        posts.map(post => {\n          const user = users.find(user => user.id === post.userId);\n          post.username = user.name;\n          return post;\n        });\n\n        this.setState({\n          searchValue: '',\n          cached: posts,\n          results: posts\n        });\n      }).catch(err => {\n        console.log(`Can't load users: ${err}`);\n      })\n    }).catch(err => {\n      console.log(`Can't load posts: ${err}`);\n    })\n  }\n\n  setResults = (value) => {\n    var filtered = this.state.cached;\n    if (value.length > 0){\n      let regex = new RegExp(value.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'ig');\n\n      filtered = this.state.cached.filter(post => {\n        return regex.test(post.title) || regex.test(post.username) || regex.test(post.body);\n      });\n    }\n    this.setState({...this.state, results: filtered});\n  }\n\n  render(){\n    return (\n      <div className=\"AppSearcher\">\n        <div className=\"row\">\n          <div className=\"col-12 mb-5 p-5\">\n            <SearchForm onSearch={this.setResults} />\n          </div>\n        </div>\n        <div className=\"row\">\n          <section className=\"col-12\">\n            <h3>Results: <span data-testid=\"count\">{this.state.results.length}</span></h3>\n            <hr />\n          </section>\n          {this.state.results.map(res => {\n            return (\n              <ResultCard key={res.id} username={res.username} title={res.title} body={res.body} />\n            )}\n          )}\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './sass/app.sass';\nimport AppSearcher from './components/AppSearcher';\n\nReactDOM.render(\n  <React.StrictMode>\n    <header>\n      <h1>React Posts Searcher</h1>\n    </header>\n    <main className=\"container\">\n      <AppSearcher />\n    </main>\n    <footer>\n      <p>Stan Forto≈Ñski 2020</p>\n    </footer>\n  </React.StrictMode>,\n  document.getElementById('app')\n);\n"],"sourceRoot":""}